import {Directive, ElementRef, Input, Renderer2} from '@angular/core';

export class NgxSbzTextAnimationDirective {
  constructor(elementRef, renderer) {
    this.elementRef = elementRef;
    this.renderer = renderer;
    this.maxFontSize = 20;
    this.position = 'right';
  }

  ngAfterViewInit() {
    this.init();
    this.animateBackground();
  }

  init() {
    this.colorSchemeArray = this.colorSchemeArray
      ? this.colorSchemeArray
      : [
        '#63b598', '#ce7d78', '#ea9e70', '#a48a9e', '#c6e1e8', '#648177', '#0d5ac1',
        '#f205e6', '#1c0365', '#14a9ad', '#4ca2f9', '#a4e43f', '#d298e2', '#6119d0',
        '#d2737d', '#c0a43c', '#f2510e', '#651be6', '#79806e', '#61da5e', '#cd2f00',
        '#9348af', '#01ac53', '#c5a4fb', '#996635', '#b11573', '#4bb473', '#75d89e',
        '#2f3f94', '#2f7b99', '#da967d', '#34891f', '#b0d87b', '#ca4751', '#7e50a8',
        '#c4d647', '#e0eeb8', '#11dec1', '#289812', '#566ca0', '#ffdbe1', '#2f1179',
        '#935b6d', '#916988', '#513d98', '#aead3a', '#9e6d71', '#4b5bdc', '#0cd36d',
        '#250662', '#cb5bea', '#228916', '#ac3e1b', '#df514a', '#539397', '#880977',
        '#f697c1', '#ba96ce', '#679c9d', '#c6c42c', '#5d2c52', '#48b41b', '#e1cf3b',
        '#5be4f0', '#57c4d8', '#a4d17a', '#225b8', '#be608b', '#96b00c', '#088baf',
        '#f158bf', '#e145ba', '#ee91e3', '#05d371', '#5426e0', '#4834d0', '#802234',
        '#6749e8', '#0971f0', '#8fb413', '#b2b4f0', '#c3c89d', '#c9a941', '#41d158',
        '#fb21a3', '#51aed9', '#5bb32d', '#807fb', '#21538e', '#89d534', '#d36647',
        '#7fb411', '#0023b8', '#3b8c2a', '#986b53', '#f50422', '#983f7a', '#ea24a3',
        '#79352c', '#521250', '#c79ed2', '#d6dd92', '#e33e52', '#b2be57', '#fa06ec',
        '#1bb699', '#6b2e5f', '#64820f', '#1c271', '#21538e', '#89d534', '#d36647',
        '#7fb411', '#0023b8', '#3b8c2a', '#986b53', '#f50422', '#983f7a', '#ea24a3',
        '#79352c', '#521250', '#c79ed2', '#d6dd92', '#e33e52', '#b2be57', '#fa06ec',
        '#1bb699', '#6b2e5f', '#64820f', '#1c271', '#9cb64a', '#996c48', '#9ab9b7',
        '#06e052', '#e3a481', '#0eb621', '#fc458e', '#b2db15', '#aa226d', '#792ed8',
        '#73872a', '#520d3a', '#cefcb8', '#a5b3d9', '#7d1d85', '#c4fd57', '#f1ae16',
        '#8fe22a', '#ef6e3c', '#243eeb', '#1dc18', '#dd93fd', '#3f8473', '#e7dbce',
        '#421f79', '#7a3d93', '#635f6d', '#93f2d7', '#9b5c2a', '#15b9ee', '#0f5997',
        '#409188', '#911e20', '#1350ce', '#10e5b1', '#fff4d7', '#cb2582', '#ce00be',
        '#32d5d6', '#17232', '#608572', '#c79bc2', '#00f87c', '#77772a', '#6995ba',
        '#fc6b57', '#f07815', '#8fd883', '#060e27', '#96e591', '#21d52e', '#d00043',
        '#b47162', '#1ec227', '#4f0f6f', '#1d1d58', '#947002', '#bde052', '#e08c56',
        '#28fcfd', '#bb09b', '#36486a', '#d02e29', '#1ae6db', '#3e464c', '#a84a8f',
        '#911e7e', '#3f16d9', '#0f525f', '#ac7c0a', '#b4c086', '#c9d730', '#30cc49',
        '#3d6751', '#fb4c03', '#640fc1', '#62c03e', '#d3493a', '#88aa0b', '#406df9',
        '#615af0', '#4be47', '#2a3434', '#4a543f', '#79bca0', '#a8b8d4', '#00efd4',
        '#7ad236', '#7260d8', '#1deaa7', '#06f43a', '#823c59', '#e3d94c', '#dc1c06',
        '#f53b2a', '#b46238', '#2dfff6', '#a82b89', '#1a8011', '#436a9f', '#1a806a',
        '#4cf09d', '#c188a2', '#67eb4b', '#b308d3', '#fc7e41', '#af3101', '#ff065',
        '#71b1f4', '#a2f8a5', '#e23dd0', '#d3486d', '#00f7f9', '#474893', '#3cec35',
        '#1c65cb', '#5d1d0c', '#2d7d2a', '#ff3420', '#5cdd87', '#a259a4', '#e4ac44',
        '#1bede6', '#8798a4', '#d7790f', '#b2c24f', '#de73c2', '#d70a9c', '#25b67',
        '#88e9b8', '#c2b0e2', '#86e98f', '#ae90e2', '#1a806b', '#436a9e', '#0ec0ff',
        '#f812b3', '#b17fc9', '#8d6c2f', '#d3277a', '#2ca1ae', '#9685eb', '#8a96c6',
        '#dba2e6', '#76fc1b', '#608fa4', '#20f6ba', '#07d7f6', '#dce77a', '#77ecca',
        '#000000', '#ffffff'
      ];
  }

  animateBackground() {
    // need to access them in the setTimeout function
    const renderer = this.renderer;
    const elementRef = this.elementRef;
    const chars = [...Array(26)].map((e, i) => (i + 10).toString(36));
    setInterval(() => {
      for (let i = 0; i < Math.floor(Math.random() * 5); i++) {
        const duration = Math.floor(Math.random() * 15);
        const offset = Math.floor(Math.random() * (45 - duration * 3)) + 3;
        const size = 12 + (this.maxFontSize - duration);
        const color = this.colorSchemeArray[Math.floor(Math.random() * this.colorSchemeArray.length)];
        const span = renderer.createElement('span');
        span.innerText = chars[Math.floor(Math.random() * chars.length)];
        renderer.addClass(span, 'animated-text');
        renderer.setStyle(span, 'color', color);
        renderer.setStyle(span, this.position, `${offset}vw`);
        renderer.setStyle(span, 'font-size', `${size}px`);
        renderer.setStyle(span, 'animation-duration', `${duration}s`);
        renderer.setStyle(span, 'color', color);
        renderer.appendChild(elementRef.nativeElement, span);
        setTimeout(() => {
          renderer.removeChild(elementRef.nativeElement, elementRef.nativeElement.firstChild);
        }, duration * 1000, false, elementRef, renderer);
      }
    }, 250);
  }
}

NgxSbzTextAnimationDirective.decorators = [
  {
    type: Directive, args: [{
      selector: '[sbzTextAnimation]'
    },]
  }
];
NgxSbzTextAnimationDirective.ctorParameters = () => [
  {type: ElementRef},
  {type: Renderer2}
];
NgxSbzTextAnimationDirective.propDecorators = {
  maxFontSize: [{type: Input}],
  colorSchemeArray: [{type: Input}],
  position: [{type: Input}]
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmd4LXNiei10ZXh0LWFuaW1hdGlvbi5kaXJlY3RpdmUuanMiLCJzb3VyY2VSb290IjoiQzovbXlOcG1QYWNrYWdlL3RleHQtYW5pbWF0aW9uLXdvcmtzcGFjZS9wcm9qZWN0cy90ZXh0LWFuaW1hdGlvbi9zcmMvIiwic291cmNlcyI6WyJsaWIvbmd4LXNiei10ZXh0LWFuaW1hdGlvbi5kaXJlY3RpdmUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFnQixTQUFTLEVBQUUsVUFBVSxFQUFFLEtBQUssRUFBRSxTQUFTLEVBQUMsTUFBTSxlQUFlLENBQUM7QUFLckYsTUFBTSxPQUFPLDRCQUE0QjtJQUt2QyxZQUFvQixVQUFzQixFQUFVLFFBQW1CO1FBQW5ELGVBQVUsR0FBVixVQUFVLENBQVk7UUFBVSxhQUFRLEdBQVIsUUFBUSxDQUFXO1FBSjlELGdCQUFXLEdBQUcsRUFBRSxDQUFDO1FBRWpCLGFBQVEsR0FBcUIsT0FBTyxDQUFDO0lBRzlDLENBQUM7SUFFRCxlQUFlO1FBQ2IsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO1FBQ1osSUFBSSxDQUFDLGlCQUFpQixFQUFFLENBQUM7SUFDM0IsQ0FBQztJQUVPLElBQUk7UUFDVixJQUFJLENBQUMsZ0JBQWdCLEdBQUcsSUFBSSxDQUFDLGdCQUFnQjtZQUMzQyxDQUFDLENBQUMsSUFBSSxDQUFDLGdCQUFnQjtZQUN2QixDQUFDLENBQUM7Z0JBQ0EsU0FBUyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FBUyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FBUztnQkFDM0UsU0FBUyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FBUyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FBUztnQkFDM0UsU0FBUyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FBUyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FBUztnQkFDM0UsU0FBUyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FBUyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FBUztnQkFDM0UsU0FBUyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FBUyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FBUztnQkFDM0UsU0FBUyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FBUyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FBUztnQkFDM0UsU0FBUyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FBUyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FBUztnQkFDM0UsU0FBUyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FBUyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FBUztnQkFDM0UsU0FBUyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FBUyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FBUztnQkFDM0UsU0FBUyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsUUFBUSxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FBUztnQkFDMUUsU0FBUyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FBUyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FBUztnQkFDM0UsU0FBUyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FBUyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FBUztnQkFDM0UsU0FBUyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsUUFBUSxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FBUztnQkFDMUUsU0FBUyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FBUyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FBUztnQkFDM0UsU0FBUyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FBUyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FBUztnQkFDM0UsU0FBUyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsUUFBUSxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FBUztnQkFDMUUsU0FBUyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FBUyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FBUztnQkFDM0UsU0FBUyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FBUyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FBUztnQkFDM0UsU0FBUyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsUUFBUSxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FBUztnQkFDMUUsU0FBUyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FBUyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FBUztnQkFDM0UsU0FBUyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FBUyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FBUztnQkFDM0UsU0FBUyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsUUFBUSxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FBUztnQkFDMUUsU0FBUyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FBUyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FBUztnQkFDM0UsU0FBUyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FBUyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FBUztnQkFDM0UsU0FBUyxFQUFFLFFBQVEsRUFBRSxTQUFTLEVBQUUsU0FBUyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FBUztnQkFDMUUsU0FBUyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FBUyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FBUztnQkFDM0UsU0FBUyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FBUyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FBUztnQkFDM0UsU0FBUyxFQUFFLFFBQVEsRUFBRSxTQUFTLEVBQUUsU0FBUyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FBUztnQkFDMUUsU0FBUyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FBUyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FBUztnQkFDM0UsU0FBUyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FBUyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FBUztnQkFDM0UsU0FBUyxFQUFFLFFBQVEsRUFBRSxTQUFTLEVBQUUsU0FBUyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FBUztnQkFDMUUsU0FBUyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FBUyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FBUztnQkFDM0UsU0FBUyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FBUyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FBUztnQkFDM0UsU0FBUyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FBUyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsUUFBUTtnQkFDMUUsU0FBUyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FBUyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FBUztnQkFDM0UsU0FBUyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FBUyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FBUztnQkFDM0UsU0FBUyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FBUyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsUUFBUTtnQkFDMUUsU0FBUyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FBUyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FBUztnQkFDM0UsU0FBUyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FBUyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FBUztnQkFDM0UsU0FBUyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FBUyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FBUztnQkFDM0UsU0FBUyxFQUFFLFNBQVM7YUFDckIsQ0FBQztJQUNOLENBQUM7SUFFTyxpQkFBaUI7UUFDdkIsaURBQWlEO1FBQ2pELE1B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dCwgRGlyZWN0aXZlLCBFbGVtZW50UmVmLCBJbnB1dCwgUmVuZGVyZXIyfSBmcm9tICdAYW5ndWxhci9jb3JlJztcblxuQERpcmVjdGl2ZSh7XG4gIHNlbGVjdG9yOiAnW3NielRleHRBbmltYXRpb25dJ1xufSlcbmV4cG9ydCBjbGFzcyBOZ3hTYnpUZXh0QW5pbWF0aW9uRGlyZWN0aXZlIGltcGxlbWVudHMgQWZ0ZXJWaWV3SW5pdCB7XG4gIEBJbnB1dCgpIG1heEZvbnRTaXplID0gMjA7XG4gIEBJbnB1dCgpIGNvbG9yU2NoZW1lQXJyYXk6IHN0cmluZ1tdO1xuICBASW5wdXQoKSBwb3NpdGlvbjogJ2xlZnQnIHwgJ3JpZ2h0JyA9ICdyaWdodCc7XG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSBlbGVtZW50UmVmOiBFbGVtZW50UmVmLCBwcml2YXRlIHJlbmRlcmVyOiBSZW5kZXJlcjIpIHtcbiAgfVxuXG4gIG5nQWZ0ZXJWaWV3SW5pdCgpOiB2b2lkIHtcbiAgICB0aGlzLmluaXQoKTtcbiAgICB0aGlzLmFuaW1hdGVCYWNrZ3JvdW5kKCk7XG4gIH1cblxuICBwcml2YXRlIGluaXQoKTogdm9pZCB7XG4gICAgdGhpcy5jb2xvclNjaGVtZUFycmF5ID0gdGhpcy5jb2xvclNjaGVtZUFycmF5XG4gICAgICA/IHRoaXMuY29sb3JTY2hlbWVBcnJheVxuICAgICAgOiBbXG4gICAgICAgICcjNjNiNTk4JywgJyNjZTdkNzgnLCAnI2VhOWU3MCcsICcjYTQ4YTllJywgJyNjNmUxZTgnLCAnIzY0ODE3NycsICcjMGQ1YWMxJyxcbiAgICAgICAgJyNmMjA1ZTYnLCAnIzFjMDM2NScsICcjMTRhOWFkJywgJyM0Y2EyZjknLCAnI2E0ZTQzZicsICcjZDI5OGUyJywgJyM2MTE5ZDAnLFxuICAgICAgICAnI2QyNzM3ZCcsICcjYzBhNDNjJywgJyNmMjUxMGUnLCAnIzY1MWJlNicsICcjNzk4MDZlJywgJyM2MWRhNWUnLCAnI2NkMmYwMCcsXG4gICAgICAgICcjOTM0OGFmJywgJyMwMWFjNTMnLCAnI2M1YTRmYicsICcjOTk2NjM1JywgJyNiMTE1NzMnLCAnIzRiYjQ3MycsICcjNzVkODllJyxcbiAgICAgICAgJyMyZjNmOTQnLCAnIzJmN2I5OScsICcjZGE5NjdkJywgJyMzNDg5MWYnLCAnI2IwZDg3YicsICcjY2E0NzUxJywgJyM3ZTUwYTgnLFxuICAgICAgICAnI2M0ZDY0NycsICcjZTBlZWI4JywgJyMxMWRlYzEnLCAnIzI4OTgxMicsICcjNTY2Y2EwJywgJyNmZmRiZTEnLCAnIzJmMTE3OScsXG4gICAgICAgICcjOTM1YjZkJywgJyM5MTY5ODgnLCAnIzUxM2Q5OCcsICcjYWVhZDNhJywgJyM5ZTZkNzEnLCAnIzRiNWJkYycsICcjMGNkMzZkJyxcbiAgICAgICAgJyMyNTA2NjInLCAnI2NiNWJlYScsICcjMjI4OTE2JywgJyNhYzNlMWInLCAnI2RmNTE0YScsICcjNTM5Mzk3JywgJyM4ODA5NzcnLFxuICAgICAgICAnI2Y2OTdjMScsICcjYmE5NmNlJywgJyM2NzljOWQnLCAnI2M2YzQyYycsICcjNWQyYzUyJywgJyM0OGI0MWInLCAnI2UxY2YzYicsXG4gICAgICAgICcjNWJlNGYwJywgJyM1N2M0ZDgnLCAnI2E0ZDE3YScsICcjMjI1YjgnLCAnI2JlNjA4YicsICcjOTZiMDBjJywgJyMwODhiYWYnLFxuICAgICAgICAnI2YxNThiZicsICcjZTE0NWJhJywgJyNlZTkxZTMnLCAnIzA1ZDM3MScsICcjNTQyNmUwJywgJyM0ODM0ZDAnLCAnIzgwMjIzNCcsXG4gICAgICAgICcjNjc0OWU4JywgJyMwOTcxZjAnLCAnIzhmYjQxMycsICcjYjJiNGYwJywgJyNjM2M4OWQnLCAnI2M5YTk0MScsICcjNDFkMTU4JyxcbiAgICAgICAgJyNmYjIxYTMnLCAnIzUxYWVkOScsICcjNWJiMzJkJywgJyM4MDdmYicsICcjMjE1MzhlJywgJyM4OWQ1MzQnLCAnI2QzNjY0NycsXG4gICAgICAgICcjN2ZiNDExJywgJyMwMDIzYjgnLCAnIzNiOGMyYScsICcjOTg2YjUzJywgJyNmNTA0MjInLCAnIzk4M2Y3YScsICcjZWEyNGEzJyxcbiAgICAgICAgJyM3OTM1MmMnLCAnIzUyMTI1MCcsICcjYzc5ZWQyJywgJyNkNmRkOTInLCAnI2UzM2U1MicsICcjYjJiZTU3JywgJyNmYTA2ZWMnLFxuICAgICAgICAnIzFiYjY5OScsICcjNmIyZTVmJywgJyM2NDgyMGYnLCAnIzFjMjcxJywgJyMyMTUzOGUnLCAnIzg5ZDUzNCcsICcjZDM2NjQ3JyxcbiAgICAgICAgJyM3ZmI0MTEnLCAnIzAwMjNiOCcsICcjM2I4YzJhJywgJyM5ODZiNTMnLCAnI2Y1MDQyMicsICcjOTgzZjdhJywgJyNlYTI0YTMnLFxuICAgICAgICAnIzc5MzUyYycsICcjNTIxMjUwJywgJyNjNzllZDInLCAnI2Q2ZGQ5MicsICcjZTMzZTUyJywgJyNiMmJlNTcnLCAnI2ZhMDZlYycsXG4gICAgICAgICcjMWJiNjk5JywgJyM2YjJlNWYnLCAnIzY0ODIwZicsICcjMWMyNzEnLCAnIzljYjY0YScsICcjOTk2YzQ4JywgJyM5YWI5YjcnLFxuICAgICAgICAnIzA2ZTA1MicsICcjZTNhNDgxJywgJyMwZWI2MjEnLCAnI2ZjNDU4ZScsICcjYjJkYjE1JywgJyNhYTIyNmQnLCAnIzc5MmVkOCcsXG4gICAgICAgICcjNzM4NzJhJywgJyM1MjBkM2EnLCAnI2NlZmNiOCcsICcjYTViM2Q5JywgJyM3ZDFkODUnLCAnI2M0ZmQ1NycsICcjZjFhZTE2JyxcbiAgICAgICAgJyM4ZmUyMmEnLCAnI2VmNmUzYycsICcjMjQzZWViJywgJyMxZGMxOCcsICcjZGQ5M2ZkJywgJyMzZjg0NzMnLCAnI2U3ZGJjZScsXG4gICAgICAgICcjNDIxZjc5JywgJyM3YTNkOTMnLCAnIzYzNWY2ZCcsICcjOTNmMmQ3JywgJyM5YjVjMmEnLCAnIzE1YjllZScsICcjMGY1OTk3JyxcbiAgICAgICAgJyM0MDkxODgnLCAnIzkxMWUyMCcsICcjMTM1MGNlJywgJyMxMGU1YjEnLCAnI2ZmZjRkNycsICcjY2IyNTgyJywgJyNjZTAwYmUnLFxuICAgICAgICAnIzMyZDVkNicsICcjMTcyMzInLCAnIzYwODU3MicsICcjYzc5YmMyJywgJyMwMGY4N2MnLCAnIzc3NzcyYScsICcjNjk5NWJhJyxcbiAgICAgICAgJyNmYzZiNTcnLCAnI2YwNzgxNScsICcjOGZkODgzJywgJyMwNjBlMjcnLCAnIzk2ZTU5MScsICcjMjFkNTJlJywgJyNkMDAwNDMnLFxuICAgICAgICAnI2I0NzE2MicsICcjMWVjMjI3JywgJyM0ZjBmNmYnLCAnIzFkMWQ1OCcsICcjOTQ3MDAyJywgJyNiZGUwNTInLCAnI2UwOGM1NicsXG4gICAgICAgICcjMjhmY2ZkJywgJyNiYjA5YicsICcjMzY0ODZhJywgJyNkMDJlMjknLCAnIzFhZTZkYicsICcjM2U0NjRjJywgJyNhODRhOGYnLFxuICAgICAgICAnIzkxMWU3ZScsICcjM2YxNmQ5JywgJyMwZjUyNWYnLCAnI2FjN2MwYScsICcjYjRjMDg2JywgJyNjOWQ3MzAnLCAnIzMwY2M0OScsXG4gICAgICAgICcjM2Q2NzUxJywgJyNmYjRjMDMnLCAnIzY0MGZjMScsICcjNjJjMDNlJywgJyNkMzQ5M2EnLCAnIzg4YWEwYicsICcjNDA2ZGY5JyxcbiAgICAgICAgJyM2MTVhZjAnLCAnIzRiZTQ3JywgJyMyYTM0MzQnLCAnIzRhNTQzZicsICcjNzliY2EwJywgJyNhOGI4ZDQnLCAnIzAwZWZkNCcsXG4gICAgICAgICcjN2FkMjM2JywgJyM3MjYwZDgnLCAnIzFkZWFhNycsICcjMDZmNDNhJywgJyM4MjNjNTknLCAnI2UzZDk0YycsICcjZGMxYzA2JyxcbiAgICAgICAgJyNmNTNiMmEnLCAnI2I0NjIzOCcsICcjMmRmZmY2JywgJyNhODJiODknLCAnIzFhODAxMScsICcjNDM2YTlmJywgJyMxYTgwNmEnLFxuICAgICAgICAnIzRjZjA5ZCcsICcjYzE4OGEyJywgJyM2N2ViNGInLCAnI2IzMDhkMycsICcjZmM3ZTQxJywgJyNhZjMxMDEnLCAnI2ZmMDY1JyxcbiAgICAgICAgJyM3MWIxZjQnLCAnI2EyZjhhNScsICcjZTIzZGQwJywgJyNkMzQ4NmQnLCAnIzAwZjdmOScsICcjNDc0ODkzJywgJyMzY2VjMzUnLFxuICAgICAgICAnIzFjNjVjYicsICcjNWQxZDBjJywgJyMyZDdkMmEnLCAnI2ZmMzQyMCcsICcjNWNkZDg3JywgJyNhMjU5YTQnLCAnI2U0YWM0NCcsXG4gICAgICAgICcjMWJlZGU2JywgJyM4Nzk4YTQnLCAnI2Q3NzkwZicsICcjYjJjMjRmJywgJyNkZTczYzInLCAnI2Q3MGE5YycsICcjMjViNjcnLFxuICAgICAgICAnIzg4ZTliOCcsICcjYzJiMGUyJywgJyM4NmU5OGYnLCAnI2FlOTBlMicsICcjMWE4MDZiJywgJyM0MzZhOWUnLCAnIzBlYzBmZicsXG4gICAgICAgICcjZjgxMmIzJywgJyNiMTdmYzknLCAnIzhkNmMyZicsICcjZDMyNzdhJywgJyMyY2ExYWUnLCAnIzk2ODVlYicsICcjOGE5NmM2JyxcbiAgICAgICAgJyNkYmEyZTYnLCAnIzc2ZmMxYicsICcjNjA4ZmE0JywgJyMyMGY2YmEnLCAnIzA3ZDdmNicsICcjZGNlNzdhJywgJyM3N2VjY2EnLFxuICAgICAgICAnIzAwMDAwMCcsICcjZmZmZmZmJ1xuICAgICAgXTtcbiAgfVxuXG4gIHByaXZhdGUgYW5pbWF0ZUJhY2tncm91bmQoKTogdm9pZCB7XG4gICAgLy8gbmVlZCB0byBhY2Nlc3MgdGhlbSBpbiB0aGUgc2V0VGltZW91dCBmdW5jdGlvblxuICAgIGNvbnN0IHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcbiAgICBjb25zdCBlbGVtZW50UmVmID0gdGhpcy5lbGVtZW50UmVmO1xuXG4gICAgY29uc3QgY2hhcnMgPSBbLi4uQXJyYXkoMjYpXS5tYXAoKGUsIGkpID0+IChpICsgMTApLnRvU3RyaW5nKDM2KSk7XG5cbiAgICBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDUpOyBpKyspIHtcbiAgICAgICAgY29uc3QgZHVyYXRpb24gPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxNSk7XG4gICAgICAgIGNvbnN0IG9mZnNldCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqICg0NSAtIGR1cmF0aW9uICogMykpICsgMztcbiAgICAgICAgY29uc3Qgc2l6ZSA9IDEyICsgKHRoaXMubWF4Rm9udFNpemUgLSBkdXJhdGlvbik7XG4gICAgICAgIGNvbnN0IGNvbG9yID0gdGhpcy5jb2xvclNjaGVtZUFycmF5W01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHRoaXMuY29sb3JTY2hlbWVBcnJheS5sZW5ndGgpXTtcblxuICAgICAgICBjb25zdCBzcGFuID0gcmVuZGVyZXIuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICBzcGFuLmlubmVyVGV4dCA9IGNoYXJzW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGNoYXJzLmxlbmd0aCldO1xuICAgICAgICByZW5kZXJlci5hZGRDbGFzcyhzcGFuLCAnYW5pbWF0ZWQtdGV4dCcpO1xuXG4gICAgICAgIHJlbmRlcmVyLnNldFN0eWxlKHNwYW4sICdjb2xvcicsIGNvbG9yKTtcbiAgICAgICAgcmVuZGVyZXIuc2V0U3R5bGUoc3BhbiwgdGhpcy5wb3NpdGlvbiwgYCR7b2Zmc2V0fXZ3YCk7XG4gICAgICAgIHJlbmRlcmVyLnNldFN0eWxlKHNwYW4sICdmb250LXNpemUnLCBgJHtzaXplfXB4YCk7XG4gICAgICAgIHJlbmRlcmVyLnNldFN0eWxlKHNwYW4sICdhbmltYXRpb24tZHVyYXRpb24nLCBgJHtkdXJhdGlvbn1zYCk7XG4gICAgICAgIHJlbmRlcmVyLnNldFN0eWxlKHNwYW4sICdjb2xvcicsIGNvbG9yKTtcblxuICAgICAgICByZW5kZXJlci5hcHBlbmRDaGlsZChlbGVtZW50UmVmLm5hdGl2ZUVsZW1lbnQsIHNwYW4pO1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICByZW5kZXJlci5yZW1vdmVDaGlsZChlbGVtZW50UmVmLm5hdGl2ZUVsZW1lbnQsIGVsZW1lbnRSZWYubmF0aXZlRWxlbWVudC5maXJzdENoaWxkKTtcbiAgICAgICAgfSwgZHVyYXRpb24gKiAxMDAwLCBmYWxzZSwgZWxlbWVudFJlZiwgcmVuZGVyZXIpO1xuICAgICAgfVxuICAgIH0sIDI1MCk7XG4gIH1cbn1cbiJdfQ==
